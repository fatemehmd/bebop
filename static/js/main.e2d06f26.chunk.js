(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(7),r=a.n(o),i=(a(16),a(3)),s=a(1);var c=()=>{const[e,t]=Object(n.useState)(0),[a,o]=Object(n.useState)(.2),[r,i]=Object(n.useState)(!1);Object(n.useEffect)(()=>{let e;const n=()=>{t(e=>(e+.005*a)%1),e=requestAnimationFrame(n)};return e=requestAnimationFrame(n),()=>cancelAnimationFrame(e)},[a]);return l.a.createElement("div",{style:{position:"fixed",inset:0,backgroundColor:"#000",overflow:"hidden"}},l.a.createElement("div",{style:{position:"absolute",top:"1rem",right:"1rem",zIndex:50}},l.a.createElement("button",{onClick:()=>i(!r),style:{padding:"0.5rem 1rem",backgroundColor:"#1a1a1a",color:"white",border:"none",borderRadius:"0.25rem",cursor:"pointer"}},"Controls"),r&&l.a.createElement("div",{style:{marginTop:"0.5rem",padding:"1rem",backgroundColor:"rgba(26, 26, 26, 0.9)",borderRadius:"0.25rem",color:"white"}},l.a.createElement("label",null,"Speed: ",a.toFixed(1),"x",l.a.createElement("input",{type:"range",min:"0.1",max:"3",step:"0.1",value:a,onChange:e=>o(Number(e.target.value)),style:{width:"100%",marginTop:"0.5rem"}})))),l.a.createElement("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",perspective:"1000px"}},l.a.createElement("div",{style:{position:"relative",transformStyle:"preserve-3d",transform:"translateZ(0)"}},Array.from({length:15}).map((t,a)=>{const n=a/14,o=1e3*-n,r=1-.6*n,i=((e,t)=>`hsl(${180+(e/15*360+360*t)%360%120}, 100%, 50%)`)(a,e);return l.a.createElement("div",{key:a,style:{position:"absolute",left:"50%",top:"50%",width:"90vmin",height:"90vmin",transform:`translate(-50%, -50%) translateZ(${o}px) scale(${r})`,border:"3px solid",borderColor:i,boxShadow:`0 0 20px 10px ${i}`,opacity:1-.3*n}})}))))},m=a(4),u=a.n(m);class p{constructor(e,t,a,n,l){this.p=e,this.position=e.createVector(t,a),this.velocity=u.a.Vector.random2D(),this.velocity.setMag(e.random(2,4)),this.acceleration=e.createVector(),this.groupId=n;const o=n*(360/l)%360;this.color=e.color(`hsl(${o}, 100%, 50%)`)}show(e){const t=this.velocity.heading()+this.p.PI/2,a=e.boidSize;this.p.push(),this.p.translate(this.position.x,this.position.y),this.p.rotate(t),this.p.fill(this.color),this.p.noStroke(),this.p.beginShape(),this.p.vertex(0,-a),this.p.vertex(-a/2,a),this.p.vertex(a/2,a),this.p.endShape(this.p.CLOSE),this.p.pop()}}var d=()=>{const e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=Object(n.useRef)([]),[o,r]=Object(n.useState)({numFlocks:3,nodesPerFlock:50,separation:2,cohesion:1,alignment:.6,maxForce:.2,maxSpeed:4,perceptionRadius:50,separationRadius:30,boidSize:8,mouseRadius:100,mouseRepel:!0,spaceAwareMult:5,laziness:0,speedLimit:10}),i=e=>{a.current=[];for(let t=0;t<o.numFlocks;t++){const n=e.width*(.3+.2*t),l=.5*e.height;for(let r=0;r<o.nodesPerFlock;r++){const r=e.random(-50,50),i=e.random(-50,50);a.current.push(new p(e,n+r,l+i,t,o.numFlocks))}}};Object(n.useEffect)(()=>(t.current=new u.a(t=>{t.setup=(()=>{t.createCanvas(t.windowWidth,t.windowHeight).parent(e.current),i(t)}),t.draw=(()=>{t.background(0);for(let e of a.current)e.edges(),e.flock(a.current,o),e.update(o),e.show(o);t.fill(255),t.noStroke(),t.text(`framerate ${t.frameRate().toFixed(1)}`,10,20)}),t.windowResized=(()=>{t.resizeCanvas(t.windowWidth,t.windowHeight)}),t.mousePressed=(()=>{if(o.mouseRepel){const e=t.createVector(t.mouseX,t.mouseY);for(let t of a.current)if(t.position.dist(e)<2*o.mouseRadius){const a=u.a.Vector.sub(t.position,e);a.setMag(5),t.applyForce(a)}}})}),()=>{t.current.remove()}),[]);return l.a.createElement("div",{className:"relative w-full h-full"},l.a.createElement("div",{ref:e,className:"absolute inset-0"}),l.a.createElement(()=>l.a.createElement("div",{className:"fixed right-4 top-4 bg-black/80 p-4 rounded-lg text-white space-y-4",style:{minWidth:"250px"}},l.a.createElement("div",{className:"flex justify-between items-center"},l.a.createElement("h3",{className:"text-lg"},"Controls"),l.a.createElement("button",{onClick:()=>i(t.current),className:"px-2 py-1 bg-blue-500 rounded hover:bg-blue-600"},"Reset")),l.a.createElement("div",{className:"space-y-4"},l.a.createElement("div",null,l.a.createElement("label",{className:"flex justify-between"},"Flocks: ",o.numFlocks,l.a.createElement("div",{className:"flex gap-1"},l.a.createElement("button",{onClick:()=>r(e=>({...e,numFlocks:Math.max(1,e.numFlocks-1)})),className:"px-2 bg-gray-700 rounded"},"-"),l.a.createElement("button",{onClick:()=>r(e=>({...e,numFlocks:e.numFlocks+1})),className:"px-2 bg-gray-700 rounded"},"+")))),l.a.createElement("div",null,l.a.createElement("label",{className:"flex justify-between"},"Nodes per flock: ",o.nodesPerFlock,l.a.createElement("div",{className:"flex gap-1"},l.a.createElement("button",{onClick:()=>r(e=>({...e,nodesPerFlock:Math.max(1,e.nodesPerFlock-5)})),className:"px-2 bg-gray-700 rounded"},"-"),l.a.createElement("button",{onClick:()=>r(e=>({...e,nodesPerFlock:e.nodesPerFlock+5})),className:"px-2 bg-gray-700 rounded"},"+")))),l.a.createElement("div",{className:"space-y-2"},l.a.createElement("label",null,"Separation (",o.separation.toFixed(1),")",l.a.createElement("input",{type:"range",min:"0",max:"5",step:"0.1",value:o.separation,onChange:e=>r(t=>({...t,separation:parseFloat(e.target.value)})),className:"w-full"})),l.a.createElement("label",null,"Cohesion (",o.cohesion.toFixed(1),")",l.a.createElement("input",{type:"range",min:"0",max:"5",step:"0.1",value:o.cohesion,onChange:e=>r(t=>({...t,cohesion:parseFloat(e.target.value)})),className:"w-full"})),l.a.createElement("label",null,"Alignment (",o.alignment.toFixed(1),")",l.a.createElement("input",{type:"range",min:"0",max:"5",step:"0.1",value:o.alignment,onChange:e=>r(t=>({...t,alignment:parseFloat(e.target.value)})),className:"w-full"})),l.a.createElement("label",null,"Speed Limit (",o.speedLimit.toFixed(1),")",l.a.createElement("input",{type:"range",min:"1",max:"20",step:"0.1",value:o.speedLimit,onChange:e=>r(t=>({...t,speedLimit:parseFloat(e.target.value)})),className:"w-full"})),l.a.createElement("label",null,"Space Aware Mult (",o.spaceAwareMult.toFixed(1),")",l.a.createElement("input",{type:"range",min:"0",max:"10",step:"0.1",value:o.spaceAwareMult,onChange:e=>r(t=>({...t,spaceAwareMult:parseFloat(e.target.value)})),className:"w-full"})),l.a.createElement("label",null,"Laziness (",o.laziness.toFixed(1),")",l.a.createElement("input",{type:"range",min:"0",max:"1",step:"0.1",value:o.laziness,onChange:e=>r(t=>({...t,laziness:parseFloat(e.target.value)})),className:"w-full"}))),l.a.createElement("div",null,l.a.createElement("label",{className:"flex items-center gap-2"},l.a.createElement("input",{type:"checkbox",checked:o.mouseRepel,onChange:e=>r(t=>({...t,mouseRepel:e.target.checked}))}),"Mouse Repel")))),null))};var h=()=>{const[e,t]=Object(n.useState)(null),[a,o]=Object(n.useState)(new Set),[r,i]=Object(n.useState)([]),s=Object(n.useRef)(0),c=Object(n.useRef)(!1),m=Object(n.useRef)({});Object(n.useEffect)(()=>{Object.entries({C:16.35,"C#":17.32,D:18.35,"D#":19.45,E:20.6,F:21.83,"F#":23.12,G:24.5,"G#":25.96,A:27.5,"A#":29.14,B:30.87}).forEach(e=>{let[t,a]=e;for(let n=0;n<=8;n++)m.current[`${t}${n}`]=a*Math.pow(2,n)})},[]);const u=Object(n.useCallback)((e,t)=>{const a=Array.from({length:10},()=>({id:s.current++,x:e,y:t,vx:4*(Math.random()-.5),vy:4*-Math.random()-2,life:1,color:`hsl(${60*Math.random()+180}, 100%, 70%)`}));i(e=>[...e,...a])},[]);Object(n.useEffect)(()=>{let e;const t=()=>{i(e=>e.map(e=>({...e,x:e.x+e.vx,y:e.y+e.vy,vy:e.vy+.1,life:e.life-.02})).filter(e=>e.life>0)),e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>cancelAnimationFrame(e)},[]);const p=Object(n.useCallback)((a,n,l)=>{if(!e)return void(()=>{if(!c.current){const e=new(window.AudioContext||window.webkitAudioContext);t(e),c.current=!0}})();const r=e.createOscillator(),i=e.createGain();return r.type="sine",r.frequency.setValueAtTime(m.current[a],e.currentTime),i.gain.setValueAtTime(0,e.currentTime),i.gain.linearRampToValueAtTime(.5,e.currentTime+.1),r.connect(i),i.connect(e.destination),r.start(),o(e=>new Set([...e,a])),u(n,l),{oscillator:r,gainNode:i}},[e,u]),d=Object(n.useCallback)((t,a)=>{if(!a||!e)return;const{oscillator:n,gainNode:l}=a;l.gain.linearRampToValueAtTime(0,e.currentTime+.1),setTimeout(()=>n.stop(),100),o(e=>{const a=new Set([...e]);return a.delete(t),a})},[e]),h=[];for(let n=0;n<=8;n++)[{note:"C",color:"white"},{note:"C#",color:"black"},{note:"D",color:"white"},{note:"D#",color:"black"},{note:"E",color:"white"},{note:"F",color:"white"},{note:"F#",color:"black"},{note:"G",color:"white"},{note:"G#",color:"black"},{note:"A",color:"white"},{note:"A#",color:"black"},{note:"B",color:"white"}].forEach(e=>{let{note:t,color:a}=e;h.push({note:`${t}${n}`,color:a})});return l.a.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"#000",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"}},l.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"auto",display:"flex",alignItems:"center",padding:"20px"}},l.a.createElement("div",{style:{display:"flex",position:"relative",margin:"0 auto",minWidth:"max-content"}},l.a.createElement("svg",{style:{position:"absolute",inset:0,pointerEvents:"none",width:"100%",height:"100%"}},r.map(e=>l.a.createElement("circle",{key:e.id,cx:e.x,cy:e.y,r:2,fill:e.color,opacity:e.life}))),h.map(e=>{let{note:t,color:n}=e;const o=a.has(t),r="black"===n;return l.a.createElement("div",{key:t,onMouseDown:e=>{const a=e.currentTarget.getBoundingClientRect(),n=p(t,a.x+a.width/2,a.y),l=()=>{d(t,n),window.removeEventListener("mouseup",l)};window.addEventListener("mouseup",l)},style:{width:r?"30px":"45px",height:r?"120px":"180px",backgroundColor:r?"#1a1a3a":"#fff",marginLeft:r?"-15px":"0",marginRight:r?"-15px":"0",zIndex:r?1:0,position:"relative",cursor:"pointer",transition:"all 0.15s ease",borderRadius:"0 0 4px 4px",border:"1px solid rgba(0,0,0,0.2)",background:r?"linear-gradient(180deg, #1a1a3a 0%, #000000 100%)":"linear-gradient(180deg, #ffffff 0%, #f0f0f0 100%)",boxShadow:o?`0 0 20px ${r?"#4299e1":"#63b3ed"},\n                       0 0 40px ${r?"#4299e1":"#63b3ed"}`:r?"0 0 4px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.1)",opacity:o?.8:1}})}))))};var g=function(){return l.a.createElement(i.a,null,l.a.createElement("div",{className:"App"},l.a.createElement("nav",{className:"fixed top-0 left-0 z-50 p-4"},l.a.createElement(i.b,{to:"/",className:"mr-4 text-white hover:text-gray-300"},"Space Tunnel"),l.a.createElement(i.b,{to:"/boids",className:"mr-4 text-white hover:text-gray-300"},"Boids"),l.a.createElement(i.b,{to:"/piano",className:"text-white hover:text-gray-300"},"Space Piano")),l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/",element:l.a.createElement(c,null)}),l.a.createElement(s.a,{path:"/boids",element:l.a.createElement(d,null)}),l.a.createElement(s.a,{path:"/piano",element:l.a.createElement(h,null)}))))};r.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(g,null)))},8:function(e,t,a){e.exports=a(19)}},[[8,1,2]]]);
//# sourceMappingURL=main.e2d06f26.chunk.js.map